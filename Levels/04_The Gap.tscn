[gd_scene load_steps=11 format=3 uid="uid://4yas8a0hg7og"]

[ext_resource type="Script" path="res://Scripts/Parallax.gd" id="1_w0seh"]
[ext_resource type="Texture2D" uid="uid://v8uk7ytlvd4a" path="res://Sprites/Level Designs/Level 1/Level 1_background.png" id="2_r8512"]
[ext_resource type="Texture2D" uid="uid://bdoo45a2hh70f" path="res://Sprites/Level Designs/Level 1/Level 1_midground.png" id="3_wh3nt"]
[ext_resource type="Texture2D" uid="uid://btl7k2imb67rh" path="res://Sprites/Level Designs/Level 1/Level 1_foreground.png" id="4_cjfns"]
[ext_resource type="PackedScene" uid="uid://idxyan3q5dh5" path="res://Player.tscn" id="5_6qb8h"]
[ext_resource type="Script" path="res://Scripts/Follow.gd" id="6_luifa"]
[ext_resource type="PackedScene" uid="uid://cubtkptyfpv0n" path="res://door.tscn" id="7_lxe0n"]
[ext_resource type="PackedScene" uid="uid://bip015y6aa4dl" path="res://Levels/05_Hydraulic.tscn" id="8_imq0v"]
[ext_resource type="Script" path="res://Scripts/DeathZone.gd" id="9_shbmy"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_w1i5w"]
size = Vector2(231, 45)

[node name="Moves with Player" type="Node2D"]

[node name="Environment" type="Node2D" parent="."]

[node name="Parallax Layers" type="Node2D" parent="Environment"]

[node name="Back" type="Node2D" parent="Environment/Parallax Layers"]
script = ExtResource("1_w0seh")
parallax = Vector2(1, 0)

[node name="Level1Background" type="Sprite2D" parent="Environment/Parallax Layers/Back"]
texture = ExtResource("2_r8512")

[node name="Mid" type="Node2D" parent="Environment/Parallax Layers"]
position = Vector2(-1, 0)
script = ExtResource("1_w0seh")
parallax = Vector2(0, 0)

[node name="Mid Body" type="StaticBody2D" parent="Environment/Parallax Layers/Mid"]

[node name="@CollisionPolygon2D@176715" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Mid/Mid Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(0, 640, 332, 640, 332, 461, 325, 461, 325, 460, 323, 460, 323, 459, 322, 459, 322, 458, 321, 458, 321, 457, 320, 457, 320, 456, 319, 456, 319, 455, 318, 455, 318, 453, 317, 453, 317, 445, 316, 445, 316, 417, 315, 417, 315, 402, 313, 402, 313, 394, 312, 394, 312, 393, 313, 393, 313, 388, 314, 388, 314, 387, 266, 387, 266, 372, 265, 372, 265, 368, 264, 368, 264, 367, 265, 367, 265, 362, 266, 362, 266, 361, 256, 361, 256, 360, 229, 360, 229, 353, 228, 353, 228, 352, 229, 352, 229, 347, 227, 347, 227, 346, 229, 346, 229, 344, 228, 344, 228, 342, 229, 342, 229, 341, 251, 341, 251, 340, 298, 340, 298, 342, 297, 342, 297, 345, 298, 345, 298, 346, 299, 346, 299, 347, 300, 347, 300, 348, 312, 348, 312, 349, 315, 349, 315, 348, 316, 348, 316, 347, 317, 347, 317, 336, 324, 336, 324, 335, 325, 335, 325, 342, 323, 342, 323, 344, 324, 344, 324, 349, 323, 349, 323, 350, 325, 350, 325, 351, 328, 351, 328, 350, 327, 350, 327, 344, 328, 344, 328, 343, 327, 343, 327, 342, 326, 342, 326, 333, 327, 333, 327, 332, 328, 332, 328, 331, 329, 331, 329, 330, 330, 330, 330, 329, 331, 329, 331, 325, 332, 325, 332, 322, 331, 322, 331, 321, 332, 321, 332, 320, 333, 320, 333, 319, 332, 319, 332, 318, 333, 318, 333, 317, 334, 317, 334, 316, 335, 316, 335, 313, 336, 313, 336, 310, 337, 310, 337, 307, 338, 307, 338, 304, 339, 304, 339, 301, 338, 301, 338, 300, 337, 300, 337, 292, 338, 292, 338, 289, 339, 289, 339, 284, 340, 284, 340, 280, 341, 280, 341, 278, 342, 278, 342, 196, 341, 196, 341, 120, 342, 120, 342, 105, 343, 105, 343, 74, 344, 74, 344, 59, 345, 59, 345, 31, 346, 31, 346, 0, 0, 0)

[node name="@CollisionPolygon2D@176716" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Mid/Mid Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(356, 34, 355, 34, 355, 62, 354, 62, 354, 77, 353, 77, 353, 108, 352, 108, 352, 123, 351, 123, 351, 186, 352, 186, 352, 185, 353, 185, 353, 184, 357, 184, 357, 185, 358, 185, 358, 186, 359, 186, 359, 187, 360, 187, 360, 189, 361, 189, 361, 216, 362, 216, 362, 217, 363, 217, 363, 218, 364, 218, 364, 219, 365, 219, 365, 230, 364, 230, 364, 233, 363, 233, 363, 234, 362, 234, 362, 235, 361, 235, 361, 236, 360, 236, 360, 237, 357, 237, 357, 239, 373, 239, 373, 258, 371, 258, 371, 259, 369, 259, 369, 260, 368, 260, 368, 261, 367, 261, 367, 264, 368, 264, 368, 266, 369, 266, 369, 267, 370, 267, 370, 281, 369, 281, 369, 288, 368, 288, 368, 296, 367, 296, 367, 299, 366, 299, 366, 300, 365, 300, 365, 302, 364, 302, 364, 304, 363, 304, 363, 305, 362, 305, 362, 307, 361, 307, 361, 309, 360, 309, 360, 311, 359, 311, 359, 319, 360, 319, 360, 349, 359, 349, 359, 350, 360, 350, 360, 353, 359, 353, 359, 354, 362, 354, 362, 353, 361, 353, 361, 351, 362, 351, 362, 350, 361, 350, 361, 320, 362, 320, 362, 321, 364, 321, 364, 322, 366, 322, 366, 328, 365, 328, 365, 334, 364, 334, 364, 341, 363, 341, 363, 343, 364, 343, 364, 344, 365, 344, 365, 345, 363, 345, 363, 346, 364, 346, 364, 350, 363, 350, 363, 351, 364, 351, 364, 354, 365, 354, 365, 355, 366, 355, 366, 356, 367, 356, 367, 358, 369, 358, 369, 359, 371, 359, 371, 360, 372, 360, 372, 361, 373, 361, 373, 362, 374, 362, 374, 363, 375, 363, 375, 364, 376, 364, 376, 365, 377, 365, 377, 366, 378, 366, 378, 367, 389, 367, 389, 368, 393, 368, 393, 367, 397, 367, 397, 368, 402, 368, 402, 369, 403, 369, 403, 370, 404, 370, 404, 377, 405, 377, 405, 383, 404, 383, 404, 384, 403, 384, 403, 385, 398, 385, 398, 386, 395, 386, 395, 387, 366, 387, 366, 388, 367, 388, 367, 399, 366, 399, 366, 404, 365, 404, 365, 640, 640, 640, 640, 0, 356, 0)

[node name="Level1Midground" type="Sprite2D" parent="Environment/Parallax Layers/Mid"]
texture = ExtResource("3_wh3nt")

[node name="Fore" type="Node2D" parent="Environment/Parallax Layers"]
position = Vector2(-19, -3)
script = ExtResource("1_w0seh")
parallax = Vector2(-2, 0)

[node name="Fore Body" type="StaticBody2D" parent="Environment/Parallax Layers/Fore"]

[node name="@CollisionPolygon2D@88482" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Fore/Fore Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(527, 104, 523, 104, 523, 105, 520, 105, 520, 106, 518, 106, 518, 107, 515, 107, 515, 108, 513, 108, 513, 109, 511, 109, 511, 110, 509, 110, 509, 111, 507, 111, 507, 112, 505, 112, 505, 113, 503, 113, 503, 114, 502, 114, 502, 115, 500, 115, 500, 116, 498, 116, 498, 117, 496, 117, 496, 118, 494, 118, 494, 119, 492, 119, 492, 120, 491, 120, 491, 121, 490, 121, 490, 122, 488, 122, 488, 123, 487, 123, 487, 124, 486, 124, 486, 125, 485, 125, 485, 126, 484, 126, 484, 127, 483, 127, 483, 128, 482, 128, 482, 129, 481, 129, 481, 130, 480, 130, 480, 132, 479, 132, 479, 133, 478, 133, 478, 135, 477, 135, 477, 137, 476, 137, 476, 138, 475, 138, 475, 140, 474, 140, 474, 142, 472, 142, 472, 141, 468, 141, 468, 140, 465, 140, 465, 139, 463, 139, 463, 138, 459, 138, 459, 137, 455, 137, 455, 136, 430, 136, 430, 137, 423, 137, 423, 138, 420, 138, 420, 139, 414, 139, 414, 140, 411, 140, 411, 141, 406, 141, 406, 142, 402, 142, 402, 143, 399, 143, 399, 144, 397, 144, 397, 145, 395, 145, 395, 146, 393, 146, 393, 147, 390, 147, 390, 148, 388, 148, 388, 149, 385, 149, 385, 150, 382, 150, 382, 151, 380, 151, 380, 152, 378, 152, 378, 153, 377, 153, 377, 154, 376, 154, 376, 155, 374, 155, 374, 156, 372, 156, 372, 157, 371, 157, 371, 158, 370, 158, 370, 159, 369, 159, 369, 160, 368, 160, 368, 161, 367, 161, 367, 163, 366, 163, 366, 165, 365, 165, 365, 172, 366, 172, 366, 174, 367, 174, 367, 176, 368, 176, 368, 177, 369, 177, 369, 178, 371, 178, 371, 182, 370, 182, 370, 189, 371, 189, 371, 191, 372, 191, 372, 193, 373, 193, 373, 194, 375, 194, 375, 195, 377, 195, 377, 196, 387, 196, 387, 195, 389, 195, 389, 194, 391, 194, 391, 193, 394, 193, 394, 192, 398, 192, 398, 193, 400, 193, 400, 194, 402, 194, 402, 195, 410, 195, 410, 194, 413, 194, 413, 193, 419, 193, 419, 194, 437, 194, 437, 195, 439, 195, 439, 196, 441, 196, 441, 197, 442, 197, 442, 198, 443, 198, 443, 199, 445, 199, 445, 200, 446, 200, 446, 201, 447, 201, 447, 202, 449, 202, 449, 203, 451, 203, 451, 204, 458, 204, 458, 203, 459, 203, 459, 206, 460, 206, 460, 208, 461, 208, 461, 210, 462, 210, 462, 211, 463, 211, 463, 212, 464, 212, 464, 213, 465, 213, 465, 214, 466, 214, 466, 216, 467, 216, 467, 221, 468, 221, 468, 224, 469, 224, 469, 226, 470, 226, 470, 229, 471, 229, 471, 231, 472, 231, 472, 233, 473, 233, 473, 234, 474, 234, 474, 235, 476, 235, 476, 236, 477, 236, 477, 237, 479, 237, 479, 238, 481, 238, 481, 239, 485, 239, 485, 240, 491, 240, 491, 241, 500, 241, 500, 248, 501, 248, 501, 253, 502, 253, 502, 267, 501, 267, 501, 274, 500, 274, 500, 278, 499, 278, 499, 280, 498, 280, 498, 286, 497, 286, 497, 288, 496, 288, 496, 290, 495, 290, 495, 292, 494, 292, 494, 294, 493, 294, 493, 296, 492, 296, 492, 298, 491, 298, 491, 300, 490, 300, 490, 303, 489, 303, 489, 305, 488, 305, 488, 307, 487, 307, 487, 309, 486, 309, 486, 311, 485, 311, 485, 314, 484, 314, 484, 317, 483, 317, 483, 319, 482, 319, 482, 322, 481, 322, 481, 324, 480, 324, 480, 326, 479, 326, 479, 328, 478, 328, 478, 330, 477, 330, 477, 332, 476, 332, 476, 334, 475, 334, 475, 336, 474, 336, 474, 338, 473, 338, 473, 339, 472, 339, 472, 341, 471, 341, 471, 343, 470, 343, 470, 344, 469, 344, 469, 346, 468, 346, 468, 348, 467, 348, 467, 349, 466, 349, 466, 351, 465, 351, 465, 352, 464, 352, 464, 354, 463, 354, 463, 356, 462, 356, 462, 358, 461, 358, 461, 360, 460, 360, 460, 362, 459, 362, 459, 364, 458, 364, 458, 366, 457, 366, 457, 368, 456, 368, 456, 370, 455, 370, 455, 372, 454, 372, 454, 375, 453, 375, 453, 377, 452, 377, 452, 380, 451, 380, 451, 382, 450, 382, 450, 381, 445, 381, 445, 382, 443, 382, 443, 383, 441, 383, 441, 384, 439, 384, 439, 385, 438, 385, 438, 386, 437, 386, 437, 393, 436, 393, 436, 411, 435, 411, 435, 413, 434, 413, 434, 445, 433, 445, 433, 447, 432, 447, 432, 449, 431, 449, 431, 451, 430, 451, 430, 453, 429, 453, 429, 454, 427, 454, 427, 455, 425, 455, 425, 456, 423, 456, 423, 457, 419, 457, 419, 459, 418, 459, 418, 460, 416, 460, 416, 461, 414, 461, 414, 462, 409, 462, 409, 461, 407, 461, 407, 460, 405, 460, 405, 459, 404, 459, 404, 457, 403, 457, 403, 455, 402, 455, 402, 445, 401, 445, 401, 444, 400, 444, 400, 443, 398, 443, 398, 442, 397, 442, 397, 441, 396, 441, 396, 440, 395, 440, 395, 439, 394, 439, 394, 437, 393, 437, 393, 435, 392, 435, 392, 429, 393, 429, 393, 427, 394, 427, 394, 425, 395, 425, 395, 424, 396, 424, 396, 421, 397, 421, 397, 418, 398, 418, 398, 416, 399, 416, 399, 414, 400, 414, 400, 406, 399, 406, 399, 397, 398, 397, 398, 393, 373, 393, 373, 409, 372, 409, 372, 418, 371, 418, 371, 420, 370, 420, 370, 421, 369, 421, 369, 422, 368, 422, 368, 423, 367, 423, 367, 424, 366, 424, 366, 425, 365, 425, 365, 426, 363, 426, 363, 431, 362, 431, 362, 433, 361, 433, 361, 437, 363, 437, 363, 438, 365, 438, 365, 439, 367, 439, 367, 440, 368, 440, 368, 441, 369, 441, 369, 443, 368, 443, 368, 444, 367, 444, 367, 451, 368, 451, 368, 453, 369, 453, 369, 454, 368, 454, 368, 457, 369, 457, 369, 458, 371, 458, 371, 459, 369, 459, 369, 460, 367, 460, 367, 461, 366, 461, 366, 462, 365, 462, 365, 463, 364, 463, 364, 464, 363, 464, 363, 466, 362, 466, 362, 467, 361, 467, 361, 468, 360, 468, 360, 469, 358, 469, 358, 470, 357, 470, 357, 471, 356, 471, 356, 472, 355, 472, 355, 473, 354, 473, 354, 474, 353, 474, 353, 475, 351, 475, 351, 476, 349, 476, 349, 477, 344, 477, 344, 476, 342, 476, 342, 475, 340, 475, 340, 474, 339, 474, 339, 472, 338, 472, 338, 470, 337, 470, 337, 466, 335, 466, 335, 461, 334, 461, 334, 457, 333, 457, 333, 454, 332, 454, 332, 451, 331, 451, 331, 448, 328, 448, 328, 447, 326, 447, 326, 446, 325, 446, 325, 445, 324, 445, 324, 443, 323, 443, 323, 419, 321, 419, 321, 418, 319, 418, 319, 417, 317, 417, 317, 416, 314, 416, 314, 415, 310, 415, 310, 414, 299, 414, 299, 413, 288, 413, 288, 412, 286, 412, 286, 411, 285, 411, 285, 410, 284, 410, 284, 409, 279, 409, 279, 408, 256, 408, 256, 406, 255, 406, 255, 405, 254, 405, 254, 404, 253, 404, 253, 401, 252, 401, 252, 400, 243, 400, 243, 401, 239, 401, 239, 402, 233, 402, 233, 403, 225, 403, 225, 402, 224, 402, 224, 397, 223, 397, 223, 394, 222, 394, 222, 392, 221, 392, 221, 390, 220, 390, 220, 389, 219, 389, 219, 388, 218, 388, 218, 387, 217, 387, 217, 386, 216, 386, 216, 385, 214, 385, 214, 384, 212, 384, 212, 383, 210, 383, 210, 382, 208, 382, 208, 381, 206, 381, 206, 380, 204, 380, 204, 379, 198, 379, 198, 378, 197, 378, 197, 377, 195, 377, 195, 376, 193, 376, 193, 375, 192, 375, 192, 368, 194, 368, 194, 367, 196, 367, 196, 366, 197, 366, 197, 365, 198, 365, 198, 363, 199, 363, 199, 361, 200, 361, 200, 356, 199, 356, 199, 354, 198, 354, 198, 352, 197, 352, 197, 351, 195, 351, 195, 350, 193, 350, 193, 349, 190, 349, 190, 347, 191, 347, 191, 333, 190, 333, 190, 331, 189, 331, 189, 329, 188, 329, 188, 328, 186, 328, 186, 327, 184, 327, 184, 326, 177, 326, 177, 325, 178, 325, 178, 324, 179, 324, 179, 323, 180, 323, 180, 322, 181, 322, 181, 320, 182, 320, 182, 318, 183, 318, 183, 312, 182, 312, 182, 308, 183, 308, 183, 307, 184, 307, 184, 305, 185, 305, 185, 303, 187, 303, 187, 302, 193, 302, 193, 301, 196, 301, 196, 300, 200, 300, 200, 299, 202, 299, 202, 298, 204, 298, 204, 297, 206, 297, 206, 296, 207, 296, 207, 295, 208, 295, 208, 294, 209, 294, 209, 293, 210, 293, 210, 292, 212, 292, 212, 291, 213, 291, 213, 289, 215, 289, 215, 288, 217, 288, 217, 287, 219, 287, 219, 286, 220, 286, 220, 285, 221, 285, 221, 284, 222, 284, 222, 282, 223, 282, 223, 280, 224, 280, 224, 271, 225, 271, 225, 270, 227, 270, 227, 269, 228, 269, 228, 267, 229, 267, 229, 265, 230, 265, 230, 263, 231, 263, 231, 261, 232, 261, 232, 253, 233, 253, 233, 251, 234, 251, 234, 247, 235, 247, 235, 230, 234, 230, 234, 225, 233, 225, 233, 224, 234, 224, 234, 222, 235, 222, 235, 213, 234, 213, 234, 211, 233, 211, 233, 209, 232, 209, 232, 208, 231, 208, 231, 207, 229, 207, 229, 206, 228, 206, 228, 205, 227, 205, 227, 204, 225, 204, 225, 203, 224, 203, 224, 202, 222, 202, 222, 201, 220, 201, 220, 200, 174, 200, 174, 201, 163, 201, 163, 202, 155, 202, 155, 203, 149, 203, 149, 204, 141, 204, 141, 205, 133, 205, 133, 206, 128, 206, 128, 207, 121, 207, 121, 208, 113, 208, 113, 209, 108, 209, 108, 210, 101, 210, 101, 211, 92, 211, 92, 212, 76, 212, 76, 213, 43, 213, 43, 212, 33, 212, 33, 211, 25, 211, 25, 210, 17, 210, 17, 209, 0, 209, 0, 635, 639, 635, 639, 111, 637, 111, 637, 110, 635, 110, 635, 109, 633, 109, 633, 108, 628, 108, 628, 107, 621, 107, 621, 106, 552, 106, 552, 105, 549, 105, 549, 104, 546, 104, 546, 103, 527, 103)

[node name="Level1Foreground" type="Sprite2D" parent="Environment/Parallax Layers/Fore"]
texture = ExtResource("4_cjfns")

[node name="Player" parent="." instance=ExtResource("5_6qb8h")]
position = Vector2(-78, 34)
hasSoul = false

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
position = Vector2(17, 48)
script = ExtResource("6_luifa")
target = NodePath("../Player/StateMachine/Soul")
followSpeed = 10.0
magnitude = 0.2

[node name="Door" parent="." instance=ExtResource("7_lxe0n")]
position = Vector2(78, 57)
nextScene = ExtResource("8_imq0v")

[node name="Area2D" type="Area2D" parent="."]
position = Vector2(-5, 131)
collision_mask = 5
script = ExtResource("9_shbmy")

[node name="CollisionShape2D" type="CollisionShape2D" parent="Area2D"]
position = Vector2(21.5, 12.5)
shape = SubResource("RectangleShape2D_w1i5w")

[editable path="Player"]
