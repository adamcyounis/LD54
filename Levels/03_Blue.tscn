[gd_scene load_steps=9 format=3 uid="uid://fb1qsne6gp0h"]

[ext_resource type="Script" path="res://Scripts/Parallax.gd" id="1_ccfag"]
[ext_resource type="Texture2D" uid="uid://byuntlmd3icx6" path="res://Sprites/Level Designs/Level 4/Level 4_background.png" id="2_in5wn"]
[ext_resource type="Texture2D" uid="uid://d244odi21cu0p" path="res://Sprites/Level Designs/Level 4/Level 4_midground.png" id="3_h0rt1"]
[ext_resource type="Texture2D" uid="uid://bc0yqn44kkxhu" path="res://Sprites/Level Designs/Level 4/Level 4_foreground.png" id="4_vavcw"]
[ext_resource type="PackedScene" uid="uid://idxyan3q5dh5" path="res://Player.tscn" id="5_g4mv1"]
[ext_resource type="Script" path="res://Scripts/Follow.gd" id="6_r0pv6"]
[ext_resource type="PackedScene" uid="uid://cubtkptyfpv0n" path="res://door.tscn" id="7_klftm"]
[ext_resource type="PackedScene" uid="uid://4yas8a0hg7og" path="res://Levels/moves_with_player.tscn" id="8_8w0ln"]

[node name="Moves with Player" type="Node2D"]

[node name="Environment" type="Node2D" parent="."]

[node name="Parallax Layers" type="Node2D" parent="Environment"]

[node name="Back" type="Node2D" parent="Environment/Parallax Layers"]
script = ExtResource("1_ccfag")
parallax = Vector2(1, 0)

[node name="Level2Background" type="Sprite2D" parent="Environment/Parallax Layers/Back"]
texture = ExtResource("2_in5wn")

[node name="Mid" type="Node2D" parent="Environment/Parallax Layers"]
script = ExtResource("1_ccfag")
parallax = Vector2(0, 0)

[node name="Mid Body" type="StaticBody2D" parent="Environment/Parallax Layers/Mid"]

[node name="@CollisionPolygon2D@737806" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Mid/Mid Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(0, 640, 639, 640, 639, 379, 637, 379, 637, 378, 605, 378, 605, 377, 555, 377, 555, 376, 490, 376, 490, 375, 479, 375, 479, 374, 471, 374, 471, 373, 444, 373, 444, 392, 380, 392, 380, 368, 379, 368, 379, 358, 375, 358, 375, 359, 356, 359, 356, 373, 355, 373, 355, 379, 354, 379, 354, 380, 353, 380, 353, 381, 349, 381, 349, 380, 346, 380, 346, 379, 345, 379, 345, 380, 317, 380, 317, 385, 316, 385, 316, 392, 299, 392, 299, 391, 300, 391, 300, 390, 299, 390, 299, 389, 300, 389, 300, 387, 301, 387, 301, 383, 279, 383, 279, 386, 278, 386, 278, 387, 277, 387, 277, 392, 271, 392, 271, 388, 272, 388, 272, 386, 271, 386, 271, 380, 270, 380, 270, 371, 248, 371, 248, 370, 247, 370, 247, 369, 246, 369, 246, 367, 245, 367, 245, 360, 246, 360, 246, 358, 245, 358, 245, 357, 244, 357, 244, 356, 243, 356, 243, 352, 244, 352, 244, 351, 245, 351, 245, 350, 246, 350, 246, 343, 245, 343, 245, 338, 246, 338, 246, 299, 247, 299, 247, 297, 249, 297, 249, 298, 250, 298, 250, 299, 256, 299, 256, 298, 257, 298, 257, 299, 259, 299, 259, 298, 260, 298, 260, 297, 264, 297, 264, 298, 265, 298, 265, 299, 266, 299, 266, 300, 267, 300, 267, 302, 268, 302, 268, 313, 269, 313, 269, 316, 276, 316, 276, 317, 284, 317, 284, 318, 287, 318, 287, 317, 302, 317, 302, 316, 304, 316, 304, 315, 305, 315, 305, 314, 306, 314, 306, 313, 307, 313, 307, 312, 309, 312, 309, 311, 310, 311, 310, 310, 311, 310, 311, 309, 312, 309, 312, 308, 314, 308, 314, 307, 315, 307, 315, 306, 316, 306, 316, 305, 317, 305, 317, 304, 318, 304, 318, 303, 319, 303, 319, 302, 320, 302, 320, 301, 321, 301, 321, 300, 322, 300, 322, 299, 323, 299, 323, 298, 324, 298, 324, 297, 325, 297, 325, 296, 328, 296, 328, 295, 333, 295, 333, 296, 340, 296, 340, 295, 359, 295, 359, 297, 360, 297, 360, 298, 361, 298, 361, 299, 363, 299, 363, 300, 367, 300, 367, 299, 369, 299, 369, 298, 370, 298, 370, 297, 371, 297, 371, 295, 372, 295, 372, 276, 371, 276, 371, 275, 370, 275, 370, 274, 338, 274, 338, 275, 337, 275, 337, 274, 326, 274, 326, 275, 323, 275, 323, 276, 318, 276, 318, 275, 312, 275, 312, 276, 310, 276, 310, 277, 309, 277, 309, 278, 308, 278, 308, 279, 306, 279, 306, 280, 305, 280, 305, 281, 304, 281, 304, 282, 303, 282, 303, 283, 302, 283, 302, 285, 301, 285, 301, 294, 302, 294, 302, 296, 297, 296, 297, 297, 285, 297, 285, 295, 286, 295, 286, 286, 285, 286, 285, 284, 284, 284, 284, 282, 283, 282, 283, 281, 282, 281, 282, 280, 281, 280, 281, 279, 280, 279, 280, 278, 278, 278, 278, 277, 272, 277, 272, 276, 269, 276, 269, 275, 252, 275, 252, 252, 253, 252, 253, 251, 264, 251, 264, 252, 266, 252, 266, 253, 267, 253, 267, 254, 272, 254, 272, 255, 275, 255, 275, 256, 277, 256, 277, 255, 279, 255, 279, 254, 281, 254, 281, 253, 282, 253, 282, 252, 283, 252, 283, 251, 284, 251, 284, 250, 291, 250, 291, 251, 298, 251, 298, 252, 316, 252, 316, 253, 329, 253, 329, 249, 328, 249, 328, 240, 327, 240, 327, 239, 326, 239, 326, 238, 325, 238, 325, 234, 326, 234, 326, 233, 327, 233, 327, 232, 329, 232, 329, 230, 328, 230, 328, 223, 329, 223, 329, 221, 330, 221, 330, 220, 331, 220, 331, 219, 332, 219, 332, 216, 333, 216, 333, 215, 334, 215, 334, 214, 338, 214, 338, 215, 339, 215, 339, 216, 340, 216, 340, 217, 348, 217, 348, 218, 349, 218, 349, 219, 350, 219, 350, 226, 351, 226, 351, 227, 352, 227, 352, 241, 353, 241, 353, 254, 375, 254, 375, 255, 385, 255, 385, 256, 386, 256, 386, 257, 387, 257, 387, 258, 388, 258, 388, 260, 389, 260, 389, 272, 390, 272, 390, 276, 389, 276, 389, 296, 388, 296, 388, 318, 387, 318, 387, 323, 386, 323, 386, 324, 385, 324, 385, 325, 378, 325, 378, 326, 379, 326, 379, 336, 387, 336, 387, 337, 388, 337, 388, 338, 387, 338, 387, 342, 389, 342, 389, 343, 390, 343, 390, 362, 391, 362, 391, 363, 392, 363, 392, 364, 393, 364, 393, 365, 401, 365, 401, 366, 402, 366, 402, 367, 409, 367, 409, 366, 414, 366, 414, 365, 440, 365, 440, 364, 441, 364, 441, 363, 456, 363, 456, 364, 485, 364, 485, 363, 493, 363, 493, 364, 558, 364, 558, 365, 608, 365, 608, 366, 639, 366, 639, 0, 0, 0)

[node name="@CollisionPolygon2D@737807" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Mid/Mid Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(337, 325, 330, 325, 330, 326, 329, 326, 329, 327, 328, 327, 328, 340, 299, 340, 299, 339, 293, 339, 293, 338, 284, 338, 284, 339, 283, 339, 283, 340, 279, 340, 279, 339, 273, 339, 273, 340, 272, 340, 272, 341, 271, 341, 271, 342, 270, 342, 270, 343, 269, 343, 269, 353, 270, 353, 270, 354, 271, 354, 271, 355, 276, 355, 276, 356, 302, 356, 302, 357, 338, 357, 338, 356, 339, 356, 339, 355, 340, 355, 340, 354, 341, 354, 341, 339, 342, 339, 342, 338, 347, 338, 347, 337, 357, 337, 357, 325, 348, 325, 348, 324, 337, 324)

[node name="Level2Midground" type="Sprite2D" parent="Environment/Parallax Layers/Mid"]
texture = ExtResource("3_h0rt1")

[node name="Fore" type="Node2D" parent="Environment/Parallax Layers"]
position = Vector2(37, -11)
script = ExtResource("1_ccfag")
parallax = Vector2(-0.7, -0.7)

[node name="Fore Body" type="StaticBody2D" parent="Environment/Parallax Layers/Fore"]

[node name="@CollisionPolygon2D@737808" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Fore/Fore Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(0, 640, 640, 640, 640, 398, 638, 398, 638, 397, 606, 397, 606, 396, 556, 396, 556, 395, 491, 395, 491, 394, 480, 394, 480, 393, 472, 393, 472, 392, 445, 392, 445, 411, 381, 411, 381, 409, 362, 409, 362, 410, 355, 410, 355, 411, 347, 411, 347, 412, 331, 412, 331, 413, 315, 413, 315, 414, 282, 414, 282, 413, 281, 413, 281, 412, 280, 412, 280, 411, 279, 411, 279, 410, 278, 410, 278, 411, 270, 411, 270, 410, 250, 410, 250, 411, 224, 411, 224, 412, 212, 412, 212, 411, 211, 411, 211, 410, 210, 410, 210, 406, 209, 406, 209, 404, 208, 404, 208, 395, 207, 395, 207, 390, 208, 390, 208, 338, 209, 338, 209, 337, 210, 337, 210, 336, 215, 336, 215, 335, 219, 335, 219, 336, 220, 336, 220, 337, 221, 337, 221, 338, 244, 338, 244, 339, 249, 339, 249, 338, 260, 338, 260, 337, 264, 337, 264, 338, 273, 338, 273, 322, 274, 322, 274, 321, 275, 321, 275, 320, 277, 320, 277, 319, 302, 319, 302, 318, 318, 318, 318, 317, 319, 317, 319, 316, 320, 316, 320, 315, 368, 315, 368, 316, 372, 316, 372, 314, 373, 314, 373, 295, 372, 295, 372, 294, 371, 294, 371, 293, 339, 293, 339, 294, 338, 294, 338, 293, 327, 293, 327, 294, 324, 294, 324, 295, 319, 295, 319, 294, 313, 294, 313, 295, 270, 295, 270, 294, 253, 294, 253, 292, 252, 292, 252, 293, 208, 293, 208, 292, 202, 292, 202, 291, 201, 291, 201, 290, 200, 290, 200, 286, 201, 286, 201, 285, 202, 285, 202, 284, 208, 284, 208, 283, 209, 283, 209, 282, 205, 282, 205, 281, 204, 281, 204, 280, 203, 280, 203, 278, 198, 278, 198, 277, 194, 277, 194, 276, 193, 276, 193, 275, 192, 275, 192, 271, 193, 271, 193, 270, 194, 270, 194, 269, 195, 269, 195, 268, 198, 268, 198, 263, 199, 263, 199, 262, 200, 262, 200, 261, 199, 261, 199, 260, 198, 260, 198, 259, 197, 259, 197, 254, 198, 254, 198, 253, 199, 253, 199, 252, 204, 252, 204, 251, 205, 251, 205, 250, 206, 250, 206, 249, 208, 249, 208, 248, 217, 248, 217, 247, 226, 247, 226, 248, 227, 248, 227, 249, 253, 249, 253, 248, 254, 248, 254, 229, 255, 229, 255, 228, 256, 228, 256, 227, 257, 227, 257, 226, 263, 226, 263, 225, 269, 225, 269, 226, 272, 226, 272, 227, 273, 227, 273, 228, 274, 228, 274, 229, 275, 229, 275, 231, 276, 231, 276, 249, 283, 249, 283, 248, 305, 248, 305, 247, 319, 247, 319, 246, 330, 246, 330, 237, 340, 237, 340, 238, 353, 238, 353, 248, 381, 248, 381, 249, 383, 249, 383, 250, 413, 250, 413, 251, 414, 251, 414, 252, 419, 252, 419, 253, 420, 253, 420, 254, 421, 254, 421, 255, 425, 255, 425, 256, 426, 256, 426, 257, 427, 257, 427, 261, 429, 261, 429, 262, 431, 262, 431, 263, 432, 263, 432, 264, 433, 264, 433, 268, 432, 268, 432, 271, 436, 271, 436, 272, 437, 272, 437, 273, 438, 273, 438, 277, 437, 277, 437, 278, 436, 278, 436, 279, 437, 279, 437, 283, 436, 283, 436, 284, 435, 284, 435, 285, 431, 285, 431, 286, 429, 286, 429, 287, 428, 287, 428, 288, 427, 288, 427, 289, 425, 289, 425, 290, 423, 290, 423, 291, 411, 291, 411, 292, 410, 292, 410, 293, 404, 293, 404, 294, 403, 294, 403, 295, 390, 295, 390, 315, 389, 315, 389, 329, 396, 329, 396, 330, 397, 330, 397, 331, 398, 331, 398, 332, 399, 332, 399, 333, 400, 333, 400, 337, 399, 337, 399, 338, 398, 338, 398, 339, 397, 339, 397, 340, 398, 340, 398, 346, 397, 346, 397, 347, 396, 347, 396, 348, 352, 348, 352, 349, 351, 349, 351, 350, 350, 350, 350, 351, 349, 351, 349, 369, 362, 369, 362, 368, 372, 368, 372, 369, 373, 369, 373, 370, 382, 370, 382, 369, 384, 369, 384, 368, 385, 368, 385, 367, 386, 367, 386, 366, 391, 366, 391, 381, 392, 381, 392, 382, 457, 382, 457, 383, 486, 383, 486, 382, 494, 382, 494, 383, 559, 383, 559, 384, 609, 384, 609, 385, 640, 385, 640, 0, 0, 0)

[node name="@CollisionPolygon2D@737809" type="CollisionPolygon2D" parent="Environment/Parallax Layers/Fore/Fore Body"]
position = Vector2(-320, -320)
polygon = PackedVector2Array(234, 355, 233, 355, 233, 356, 232, 356, 232, 357, 231, 357, 231, 363, 230, 363, 230, 373, 234, 373, 234, 374, 267, 374, 267, 372, 268, 372, 268, 371, 270, 371, 270, 365, 269, 365, 269, 357, 267, 357, 267, 356, 255, 356, 255, 355, 244, 355, 244, 354, 234, 354)

[node name="Level2Foreground" type="Sprite2D" parent="Environment/Parallax Layers/Fore"]
texture = ExtResource("4_vavcw")

[node name="Player" parent="." instance=ExtResource("5_g4mv1")]
position = Vector2(-58, -58)

[node name="Camera2D" type="Camera2D" parent="." node_paths=PackedStringArray("target")]
position = Vector2(-31, -37)
script = ExtResource("6_r0pv6")
target = NodePath("../Player")
followSpeed = 10.0
magnitude = 0.7

[node name="Door" parent="." instance=ExtResource("7_klftm")]
position = Vector2(74, 60)
nextScene = ExtResource("8_8w0ln")
